<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Soneium Mastery Tool</title>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #0f172a; color: white; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .card { background: #1e293b; padding: 30px; border-radius: 20px; width: 380px; border: 1px solid #334155; box-shadow: 0 10px 25px rgba(0,0,0,0.5); }
        .btn { width: 100%; padding: 14px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; margin-top: 12px; transition: 0.3s; font-size: 1rem; }
        .btn-connect { background: #38bdf8; color: #0f172a; }
        .btn-poke { background: #6366f1; color: white; }
        .btn-wrap { background: #10b981; color: white; }
        .btn-nft { background: #ec4899; color: white; }
        .log { background: #000; padding: 12px; border-radius: 10px; font-family: monospace; font-size: 0.75rem; height: 120px; overflow-y: auto; margin-top: 20px; color: #4ade80; border: 1px solid #1e293b; }
        h3 { margin: 20px 0 5px 0; font-size: 0.9rem; color: #94a3b8; text-transform: uppercase; letter-spacing: 1px; }
    </style>
</head>
<body>

<div class="card">
    <h2 style="text-align: center; margin-bottom: 25px;">Soneium Score Tool</h2>
    <button id="connectBtn" class="btn btn-connect" onclick="connect()">Connect Zerion Wallet</button>
    
    <div id="controls" style="display:none;">
        <h3>1. Daily Activity (Spam)</h3>
        <button class="btn btn-poke" id="spamBtn" onclick="runSpam()">Start Transaction Spam</button>

        <h3>2. DeFi Interaction (High Value)</h3>
        <button class="btn btn-wrap" onclick="wrapETH()">Wrap 0.0001 ETH</button>
        <button class="btn btn-wrap" style="background:#64748b" onclick="unwrapETH()">Unwrap All WETH</button>

        <h3>3. NFT Category (Required for 80)</h3>
        <button class="btn btn-nft" onclick="mintNFT()">Mint Ecosystem NFT</button>
    </div>

    <div class="log" id="log">Status: Connect your wallet to begin...</div>
</div>

<script>
    // --- SETTINGS (Change the POKE contract to yours!) ---
    const POKE_CONTRACT = "0xac3fa700149513bed425398f10a08767Aef138c3"; 
    const WETH_CONTRACT = "0x4200000000000000000000000000000000000006";
    const NFT_CONTRACT = "0x_FIND_A_FREE_MINT_OR_LEAVE_BLANK"; // We will fill this next

    let signer, spamInterval, isSpamming = false;

    async function connect() {
        if (!window.ethereum) return alert("Zerion/MetaMask not found!");
        const provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        signer = provider.getSigner();
        document.getElementById("controls").style.display = "block";
        document.getElementById("connectBtn").innerText = "Wallet Linked âœ…";
        addLog("Connected to Soneium Mainnet");
    }

    function addLog(msg) {
        const div = document.getElementById("log");
        div.innerHTML += `> ${msg}<br>`;
        div.scrollTop = div.scrollHeight;
    }

    // TASK 1: THE SPAMMER
    async function runSpam() {
        if (isSpamming) {
            clearInterval(spamInterval);
            isSpamming = false;
            document.getElementById("spamBtn").innerText = "Start Transaction Spam";
            addLog("Spammer Stopped.");
            return;
        }
        isSpamming = true;
        document.getElementById("spamBtn").innerText = "STOP SPAMMING";
        addLog("Auto-Spam started (every 4 seconds)...");
        
        spamInterval = setInterval(async () => {
            try {
                const contract = new ethers.Contract(POKE_CONTRACT, ["function poke() public"], signer);
                const tx = await contract.poke();
                addLog("Sent: " + tx.hash.slice(0,10));
                await tx.wait();
            } catch (e) { addLog("Tx Cancelled or Failed"); }
        }, 4000);
    }

    // TASK 2: WRAP ETH (DeFi Point)
    async function wrapETH() {
        try {
            const contract = new ethers.Contract(WETH_CONTRACT, ["function deposit() public payable"], signer);
            const tx = await contract.deposit({ value: ethers.utils.parseEther("0.0001") });
            addLog("Wrapping 0.0001 ETH...");
            await tx.wait();
            addLog("Success! ETH is now WETH.");
        } catch (e) { addLog("Wrap failed"); }
    }

    // TASK 3: UNWRAP WETH
    async function unwrapETH() {
        try {
            const contract = new ethers.Contract(WETH_CONTRACT, [
                "function withdraw(uint256 wad) public",
                "function balanceOf(address) view returns (uint256)"
            ], signer);
            const balance = await contract.balanceOf(await signer.getAddress());
            const tx = await contract.withdraw(balance);
            addLog("Unwrapping all WETH back to ETH...");
            await tx.wait();
            addLog("Success! WETH is now ETH.");
        } catch (e) { addLog("Unwrap failed"); }
    }

    // TASK 4: MINT NFT
    async function mintNFT() {
        alert("Visit an official Soneium partner like 'Blockchain Messages' or 'SoneFi' to find their current free mint address!");
        // We will update this together once you find a collection you like!
    }
</script>
</body>
</html>
