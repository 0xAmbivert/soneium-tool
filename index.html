<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Soneium Builder Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #0b0e14; color: #e2e8f0; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .card { background: #161b22; padding: 25px; border-radius: 16px; width: 380px; border: 1px solid #30363d; box-shadow: 0 8px 32px rgba(0,0,0,0.5); }
        .btn { width: 100%; padding: 12px; border-radius: 8px; border: none; font-weight: bold; cursor: pointer; margin-top: 10px; transition: 0.2s; }
        .btn-connect { background: #238636; color: white; }
        .btn-poke { background: #8957e5; color: white; }
        .btn-wrap { background: #1f6feb; color: white; }
        .btn-nft { background: #db61a2; color: white; }
        .log { background: #010409; padding: 12px; border-radius: 8px; font-family: monospace; font-size: 0.75rem; height: 120px; overflow-y: auto; margin-top: 15px; color: #7ee787; border: 1px solid #30363d; }
        .stat-box { background: #21262d; padding: 10px; border-radius: 8px; margin-top: 10px; text-align: center; font-size: 0.9rem; }
        h3 { color: #8b949e; font-size: 0.8rem; text-transform: uppercase; margin: 20px 0 5px 0; }
    </style>
</head>
<body>

<div class="card">
    <h2 style="text-align: center; margin-bottom: 20px;">Soneium Mastery</h2>
    <button id="connectBtn" class="btn btn-connect" onclick="connect()">Connect Wallet</button>
    
    <div id="controls" style="display:none;">
        <div class="stat-box">
            NFTs Owned: <span id="nftCount" style="color:#db61a2; font-weight:bold;">0</span>
            <button onclick="checkNFTBalance()" style="background:none; border:none; color:#58a6ff; cursor:pointer; font-size:0.7rem; text-decoration:underline; margin-left:10px;">Refresh</button>
        </div>

        <h3>1. Builder NFT (Custom Contract)</h3>
        <button class="btn btn-nft" onclick="mintNFT()">Mint Your Custom NFT</button>

        <h3>2. DeFi Interaction (Official)</h3>
        <button class="btn btn-wrap" onclick="wrapETH()">Wrap 0.0001 ETH</button>
        <button class="btn btn-wrap" style="background:#484f58" onclick="unwrapETH()">Unwrap All</button>

        <h3>3. Transaction Spam</h3>
        <button class="btn btn-poke" id="spamBtn" onclick="runSpam()">Start/Stop Poke</button>
    </div>

    <div class="log" id="log">Waiting for connection...</div>
</div>

<script>
    // --- YOUR SETTINGS ---
    const NFT_CONTRACT = "0xe134662e9CDf904Ea3D90dB3F527054ED3687d83";
    const POKE_CONTRACT = "0xac3fa700149513bed425398f10a08767Aef138c3";
    const WETH_CONTRACT = "0x4200000000000000000000000000000000000006";
    
    // THE ABI YOU PROVIDED
    const NFT_ABI = [{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721IncorrectOwner","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721InsufficientApproval","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC721InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"ERC721InvalidOperator","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721InvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC721InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC721InvalidSender","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721NonexistentToken","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"inputs":[],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}];

    let signer, spamInterval, isSpamming = false;

    async function connect() {
        if (!window.ethereum) return alert("Wallet not found!");
        const provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        signer = provider.getSigner();
        document.getElementById("controls").style.display = "block";
        document.getElementById("connectBtn").innerText = "Connected";
        addLog("Securely connected.");
        checkNFTBalance();
    }

    function addLog(msg) {
        const div = document.getElementById("log");
        div.innerHTML += `> ${msg}<br>`;
        div.scrollTop = div.scrollHeight;
    }

    async function checkNFTBalance() {
        try {
            const contract = new ethers.Contract(NFT_CONTRACT, NFT_ABI, signer);
            const address = await signer.getAddress();
            const balance = await contract.balanceOf(address);
            document.getElementById("nftCount").innerText = balance.toString();
        } catch (e) { console.log("Balance check failed"); }
    }

    async function mintNFT() {
        try {
            const contract = new ethers.Contract(NFT_CONTRACT, NFT_ABI, signer);
            const tx = await contract.mint();
            addLog("Minting NFT from YOUR contract...");
            await tx.wait();
            addLog("Success! NFT Minted.");
            checkNFTBalance();
        } catch (e) { addLog("Mint cancelled."); }
    }

    async function wrapETH() {
        try {
            const contract = new ethers.Contract(WETH_CONTRACT, ["function deposit() public payable"], signer);
            const tx = await contract.deposit({ value: ethers.utils.parseEther("0.00001") });
            addLog("Wrapping 0.00001 ETH...");
            await tx.wait();
            addLog("Success! ETH -> WETH");
        } catch (e) { addLog("Wrap failed."); }
    }

    async function unwrapETH() {
        try {
            const contract = new ethers.Contract(WETH_CONTRACT, ["function withdraw(uint256 wad) public", "function balanceOf(address) view returns (uint256)"], signer);
            const bal = await contract.balanceOf(await signer.getAddress());
            const tx = await contract.withdraw(bal);
            addLog("Unwrapping all WETH...");
            await tx.wait();
            addLog("Success! WETH -> ETH");
        } catch (e) { addLog("Unwrap failed."); }
    }

    async function runSpam() {
        if (isSpamming) {
            clearInterval(spamInterval);
            isSpamming = false;
            document.getElementById("spamBtn").innerText = "Start/Stop Poke";
            addLog("Spammer stopped.");
            return;
        }
        isSpamming = true;
        document.getElementById("spamBtn").innerText = "STOPPING...";
        addLog("Spammer active.");
        spamInterval = setInterval(async () => {
            try {
                const contract = new ethers.Contract(POKE_CONTRACT, ["function poke() public"], signer);
                const tx = await contract.poke();
                addLog("Poke: " + tx.hash.slice(0,10));
                await tx.wait();
            } catch (e) { }
        }, 3000);
    }
</script>
</body>
</html>
