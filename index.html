<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soneium Mastery: Human Mode</title>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <style>
        :root {
            --bg: #0d1117;
            --card: #161b22;
            --border: #30363d;
            --primary: #8957e5;
            --accent: #db61a2;
            --text: #c9d1d9;
            --success: #238636;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .dashboard {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 12px;
            width: 400px;
            padding: 24px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .status-bar {
            display: flex;
            justify-content: space-between;
            background: rgba(0,0,0,0.2);
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.8rem;
            border: 1px solid var(--border);
        }

        .btn {
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 6px;
            border: 1px solid rgba(255,255,255,0.1);
            cursor: pointer;
            font-weight: 600;
            transition: 0.2s;
            color: white;
            font-size: 0.85rem;
        }

        .btn-main { background: var(--primary); }
        .btn-outline { background: transparent; border: 1px solid var(--primary); color: var(--primary); }
        .btn-outline:hover { background: var(--primary); color: white; }
        
        .btn-active { background: #dc2626 !important; border-color: #dc2626; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.6; } 100% { opacity: 1; } }

        .section-header {
            font-size: 0.7rem;
            text-transform: uppercase;
            color: #8b949e;
            margin: 15px 0 8px 0;
            letter-spacing: 1px;
        }

        .terminal {
            background: #010409;
            height: 130px;
            overflow-y: auto;
            border-radius: 6px;
            padding: 10px;
            font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace;
            font-size: 0.7rem;
            color: #7ee787;
            border: 1px solid var(--border);
            margin-top: 20px;
        }

        .highlight { color: var(--accent); font-weight: bold; }
    </style>
</head>
<body>

<div class="dashboard">
    <h2 style="margin: 0 0 15px 0; font-size: 1.25rem;">Soneium Mastery <span style="font-size: 0.7rem; vertical-align: middle; padding: 2px 6px; background: #238636; border-radius: 10px; margin-left: 5px;">HUMAN MODE</span></h2>
    
    <button id="connectBtn" class="btn btn-main" onclick="connect()">Connect Wallet</button>

    <div id="ui" style="display:none;">
        <div class="status-bar">
            <span>TXs: <b id="txCount">0</b></span>
            <span>NFTs: <b id="nftCount" class="highlight">0</b></span>
        </div>

        <div class="section-header">One-Time Actions</div>
        <button class="btn btn-outline" onclick="mintNFT()">âœ¨ Mint Custom Builder NFT</button>
        <button class="btn btn-outline" onclick="sendSelf()">ðŸ’¸ Native Self-Transfer</button>

        <div class="section-header">Multi-Contract Automation</div>
        <button id="multiSpamBtn" class="btn btn-main" onclick="toggleMultiSpam()" style="background: #1f6feb;">ðŸš€ Start Smart Multi-Spammer</button>
        
        <div class="section-header">DeFi Volume</div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <button class="btn btn-outline" style="border-color: #238636; color: #3fb950;" onclick="wrapETH()">Wrap</button>
            <button class="btn btn-outline" style="border-color: #484f58; color: #8b949e;" onclick="unwrapETH()">Unwrap</button>
        </div>
    </div>

    <div class="terminal" id="log">Waiting for wallet connection...</div>
</div>

<script>
    // --- OFFICIAL SONEIUM ADDRESSES ---
    const CONTRACTS = {
        WETH: "0x4200000000000000000000000000000000000006",
        USDC: "0xE9A198d38483aD727ABC8b0B1e16B2d338CF0391",
        MULTICALL: "0xcA11bde05977b3631167028862bE2a173976CA11",
        POKE: "0xac3fa700149513bed425398f10a08767Aef138c3",
        NFT: "0xe134662e9CDf904Ea3D90dB3F527054ED3687d83"
    };

    let signer, multiInterval, isMultiActive = false, totalTxs = 0;

    async function connect() {
        if (!window.ethereum) return alert("MetaMask not found!");
        const provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        signer = provider.getSigner();
        document.getElementById("ui").style.display = "block";
        document.getElementById("connectBtn").innerText = "Wallet Connected";
        addLog("Engine ready. Randomized delays enabled.");
        updateNFTBalance();
    }

    function addLog(msg) {
        const div = document.getElementById("log");
        div.innerHTML += `> ${msg}<br>`;
        div.scrollTop = div.scrollHeight;
    }

    async function updateNFTBalance() {
        const abi = ["function balanceOf(address) view returns (uint256)"];
        const contract = new ethers.Contract(CONTRACTS.NFT, abi, signer);
        const bal = await contract.balanceOf(await signer.getAddress());
        document.getElementById("nftCount").innerText = bal.toString();
    }

    async function sendSelf() {
        try {
            const addr = await signer.getAddress();
            const tx = await signer.sendTransaction({ to: addr, value: ethers.utils.parseEther("0.000001") });
            addLog("Self-send triggered...");
            await tx.wait();
            addLog("Success: Self-transfer confirmed.");
            totalTxs++; document.getElementById("txCount").innerText = totalTxs;
        } catch (e) { addLog("User rejected tx."); }
    }

    // --- NEW SMART MULTI-SPAMMER ---
    async function toggleMultiSpam() {
        const btn = document.getElementById("multiSpamBtn");
        if (isMultiActive) {
            isMultiActive = false;
            btn.innerText = "ðŸš€ Start Smart Multi-Spammer";
            btn.classList.remove("btn-active");
            addLog("Sequence stopped.");
            return;
        }

        isMultiActive = true;
        btn.innerText = "STOP MULTI-SPAM";
        btn.classList.add("btn-active");
        runSmartLoop();
    }

    async function runSmartLoop() {
        if (!isMultiActive) return;

        const actions = [
            { name: "WETH Wrap", target: CONTRACTS.WETH, abi: ["function deposit() public payable"], call: (c) => c.deposit({value: ethers.utils.parseEther("0.000001")}) },
            { name: "Contract Poke", target: CONTRACTS.POKE, abi: ["function poke() public"], call: (c) => c.poke() },
            { name: "Multicall Info", target: CONTRACTS.MULTICALL, abi: ["function getEthBalance(address) view returns (uint256)"], call: (c) => c.getEthBalance(signer.getAddress()) }
        ];

        // Pick a random action
        const action = actions[Math.floor(Math.random() * actions.length)];
        addLog(`Initiating <span class="highlight">${action.name}</span>...`);

        try {
            const contract = new ethers.Contract(action.target, action.abi, signer);
            const tx = await action.call(contract);
            
            if (tx.hash) {
                addLog(`TX Sent: ${tx.hash.slice(0,10)}`);
                await tx.wait();
                addLog(`TX Confirmed.`);
                totalTxs++; document.getElementById("txCount").innerText = totalTxs;
            } else {
                addLog("Read-only call complete.");
            }
        } catch (e) { addLog("Skipping action (Error/Cancel)"); }

        // Randomized Delay: 3 to 8 seconds
        const delay = Math.floor(Math.random() * 5000) + 3000;
        setTimeout(runSmartLoop, delay);
    }

    async function mintNFT() {
        try {
            const abi = ["function mint() public"];
            const contract = new ethers.Contract(CONTRACTS.NFT, abi, signer);
            const tx = await contract.mint();
            addLog("Minting custom NFT...");
            await tx.wait();
            addLog("NFT Minted!");
            updateNFTBalance();
        } catch (e) { addLog("Mint failed."); }
    }

    async function wrapETH() {
        const contract = new ethers.Contract(CONTRACTS.WETH, ["function deposit() public payable"], signer);
        const tx = await contract.deposit({ value: ethers.utils.parseEther("0.000001") });
        await tx.wait(); addLog("WETH Wrapped.");
    }

    async function unwrapETH() {
        const contract = new ethers.Contract(CONTRACTS.WETH, ["function withdraw(uint256) public", "function balanceOf(address) view returns (uint256)"], signer);
        const bal = await contract.balanceOf(await signer.getAddress());
        const tx = await contract.withdraw(bal);
        await tx.wait(); addLog("WETH Unwrapped.");
    }
</script>
</body>
</html>
